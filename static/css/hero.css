/* ------------------------------------
   HERO CAROUSEL — GLOBAL
------------------------------------ */

#hero-carousel {
    position: relative;
    overflow: hidden;
}

/* Prevent horizontal sliding — fade only */
.carousel-inner {
    transform: none !important;
}

/* Default fade behavior (Bootstrap-compatible) */
.carousel-fade .carousel-item {
    opacity: 0;
    transition: opacity 1.3s ease;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
}

.carousel-fade .carousel-item.active,
.carousel-fade .carousel-item-next.carousel-item-start,
.carousel-fade .carousel-item-prev.carousel-item-end {
    opacity: 1;
    position: relative;
}

/* Hide content from non-active slides (prevents ghosting) */
.carousel-item:not(.active) .hero-layer,
.carousel-item:not(.active) img,
.carousel-item:not(.active) .diptych-img {
    opacity: 0 !important;
    animation: none !important;
}

/* Give space for captions under media */
.carousel-item {
    padding-bottom: 4rem;
}
/* ------------------------------------
   CAPTIONS (ALL SLIDES)
------------------------------------ */

.hero-caption {
    position: relative;
    font-size: .9rem;
    color: #ff59c7;
    padding: 1rem 2rem;
    text-align: left;
    z-index: 10;
}



/* ------------------------------------
   STACKED TRIO SLIDE
------------------------------------ */

.hero-stack {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.hero-layer {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 65%;
    max-height: 99vh;
    transform: translate(-50%, -50%) scale(0.9);
    object-fit: contain;
    opacity: 0;
    z-index: 1;
}

/* IN: staggered entrance */
.layer-1 { animation: layerFade 2s ease forwards .2s; z-index: 1; }
.layer-2 { animation: layerFade 2s ease forwards .6s; z-index: 2; }
.layer-3 { animation: layerFade 2s ease forwards 1s; z-index: 3; }

/* OUT: fade all together, not staggered */
.carousel-item:not(.active) .hero-layer {
    animation: fadeOut 0.8s ease forwards !important;
    animation-delay: 0s !important;
}

/* Trio entrance keyframes */
@keyframes layerFade {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    60% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

/* Trio exit keyframes */
@keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
}



/* ------------------------------------
   DIPTYCH SLIDE
------------------------------------ */

.diptych-row {
    margin: 0 auto;
    max-width: 70vw; /* brings images toward center axis */
}

/* Base positioning */
.diptych-img {
    width: 90%;
    object-fit: contain;
    opacity: 0;
    animation: diptychFade 1.2s ease forwards .4s;
}

.communion {
    margin-right: 20px;
    width: 50%;
    height: auto;
    object-fit: contain;
    opacity: 0;
    animation: diptychFade 1.2s ease forwards .4s;
}

/* Entrance animation (both fade together) */
@keyframes diptychFade {
    0% { opacity: 0; transform: scale(0.75); }
    100% { opacity: 1; transform: scale(1); }
}



/* ------------------------------------
   RESPONSIVE TWEAKS
------------------------------------ */

@media (max-width: 768px) {
    .diptych-row {
        max-width: 90vw;
    }

    .diptych-img {
        width: 100%;
    }
}

/* Ensure slides size to viewport minus navbar so content sits directly under nav */
:root {
  /* adjust to match your actual navbar height (desktop) */
  --nav-height-desktop: 72px;
  /* mobile/tablet navbar height */
  --nav-height-mobile: 56px;
}

/* default -- use desktop value */
:root { --nav-height: var(--nav-height-desktop); }

/* use mobile value on smaller viewports */
@media (max-width: 991.98px) {
  :root { --nav-height: var(--nav-height-mobile); }
}

/* Make carousel items fill available viewport space under the navbar */
#hero-carousel .carousel-item.vh-100,
#hero-carousel .carousel-item {
  min-height: calc(100vh - var(--nav-height)) !important;
  height: auto !important; /* avoid fixed vh stacking issues */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  overflow: hidden;
}

/* container inside slide should not force extra height */
#hero-carousel .container-fluid {
  height: auto;
  max-height: calc(100vh - var(--nav-height)) !important;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 1rem;
  box-sizing: border-box;
}

/* hero-stack sizing — keep animation but constrain visuals */
.hero-stack {
  width: min(1100px, 94vw);
  max-width: 100%;
  max-height: calc(100vh - var(--nav-height) - 80px);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* each hero layer should scale responsively and never overflow viewport */
.hero-stack .hero-layer {
  max-width: 100%;
  max-height: calc(100vh - var(--nav-height) - 120px);
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
  user-select: none;
  -webkit-user-drag: none;
}

/* diptych / single-image slides */
.diptych-img,
img.diptych-img,
img.communion {
  max-height: calc(100vh - var(--nav-height) - 120px);
  width: auto;
  max-width: 100%;
  object-fit: contain;
  display: block;
}

/* caption sits inside the slide but won't push layout */
.hero-caption {
  position: absolute;
  left: 1rem;
  bottom: calc(12px + env(safe-area-inset-bottom));
  margin: 0;
  padding: .35rem .75rem;
  white-space: nowrap;
  z-index: 30;
}

/* small screens: reduce vertical spacing allowances */
@media (max-width: 575.98px) {
  .hero-stack { max-height: calc(100vh - var(--nav-height) - 48px); }
  .hero-stack .hero-layer { max-height: calc(100vh - var(--nav-height) - 68px); }
  .hero-caption { font-size: 0.9rem; left: .5rem; padding: .25rem .5rem; }
}
